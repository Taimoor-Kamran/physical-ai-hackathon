# Feature Specification: Physical AI & Humanoid Robotics Book Creation

**Feature Branch**: `001-book-creation`
**Created**: 2025-11-29
**Status**: Draft
**Input**: User description: "Continue drafting the full specification in specs/001-book-creation/spec.md using the constitution and spec template"

## User Scenarios & Testing *(mandatory)*

### User Story 1 - Read Comprehensive Book Content (Priority: P1)

As a student, I want to read the "Physical AI & Humanoid Robotics" book online, so that I can learn about the 13-week curriculum. The book should be presented in a clear, navigable Docusaurus format on GitHub Pages.

**Why this priority**: This is the core deliverable of the project, enabling students to access the educational content. Without the book content, other features are irrelevant.

**Independent Test**: The book can be fully accessed and navigated on GitHub Pages, displaying all chapters as per the 13-week curriculum, and delivers the primary educational content.

**Acceptance Scenarios**:

1.  **Given** I navigate to the book's GitHub Pages URL, **When** the page loads, **Then** I see the book's table of contents and can click on any chapter to read its content.
2.  **Given** I am reading a chapter, **When** I scroll through the content, **Then** I see all technical concepts presented with Theory, Code, Gazebo/Isaac Sim screenshot, and Real robot mapping.
3.  **Given** I am at the end of a chapter, **When** I look for exercises, **Then** I find a "Lab Exercise" section with clear hardware requirements.

---

### User Story 2 - Interact with RAG Chatbot (Priority: P1)

As a student, I want to highlight text within the book and receive contextually relevant answers from an embedded RAG chatbot, so that I can get immediate clarifications based on the selected content.

**Why this priority**: This feature enhances the learning experience by providing interactive support directly within the book, making it a key differentiator and a critical tool for student engagement.

**Independent Test**: A user can select text in any chapter, activate the RAG chatbot, and receive an accurate answer derived solely from the selected text, demonstrating the chatbot's core functionality.

**Acceptance Scenarios**:

1.  **Given** I am reading a chapter and select a paragraph, **When** I activate the RAG chatbot (e.g., via a context menu or button), **Then** the chatbot interface appears and provides an answer relevant to the selected text.
2.  **Given** the chatbot provides an answer, **When** I inspect the source of the answer, **Then** it is clear that the answer is based *only* on the content of the selected text, without external knowledge.

---

### User Story 3 - Access Open Source Code (Priority: P2)

As a developer or student, I want to access the entire book's codebase as 100% open-source with an MIT license on GitHub, so that I can review, contribute to, or utilize the AI-generated code for my own projects.

**Why this priority**: This fulfills the open-source mandate and allows for community engagement and learning from the AI-generated code, which is a key principle of the project.

**Independent Test**: The entire book's repository is publicly accessible on GitHub, contains all necessary source code and documentation, and clearly states an MIT license, verifiable by cloning the repository.

**Acceptance Scenarios**:

1.  **Given** I navigate to the project's GitHub repository, **When** I view the repository, **Then** I see all book content, associated code, and a prominent MIT license file.
2.  **Given** I review the code, **When** I examine the authorship, **Then** all code is identifiable as being generated by Claude.

---

### User Story 4 - Automated RAG Index Management (Priority: P2)

As a project maintainer, I want the RAG index to be automatically updated via GitHub Actions and Qdrant on every push to the repository, so that the chatbot always has the most current book content available.

**Why this priority**: This ensures the RAG chatbot remains up-to-date with new content or corrections without manual intervention, which is crucial for the chatbot's effectiveness and maintainability.

**Independent Test**: After a new commit is pushed to the main branch, a GitHub Actions workflow is triggered, successfully re-indexes the book content, and updates the Qdrant instance, verifiable by checking the action logs and the chatbot's response to new content.

**Acceptance Scenarios**:

1.  **Given** a new commit is pushed to the main branch, **When** the GitHub Actions workflow runs, **Then** a job for "RAG Index Update" is triggered and completes successfully.
2.  **Given** the "RAG Index Update" job completes, **When** I query the RAG chatbot with content from the *new* commit, **Then** the chatbot provides accurate responses based on the latest content.

---

### User Story 5 - Language Mix Support (Priority: P3)

As a Pakistani student, I want explanations in the book to occasionally include a Roman Urdu + English mix, so that I can better understand complex technical concepts in a familiar linguistic context.

**Why this priority**: This caters to the specific target audience, improving comprehension and engagement, aligning with the project's mission for AI education in Pakistan. While important, it's a content styling aspect rather than a core functional deliverable.

**Independent Test**: The book content includes examples of Roman Urdu + English mixed explanations in at least one chapter, demonstrating adherence to the linguistic style guide, verifiable by content review.

**Acceptance Scenarios**:

1.  **Given** I am reading a chapter with complex technical concepts, **When** I encounter an explanation, **Then** some explanations include a natural mix of Roman Urdu and English.

---

### Edge Cases

-   What happens when a user selects text that is too short or too long for the RAG chatbot to process effectively?
-   How does the system handle concurrent pushes to the repository regarding RAG index updates?
-   What if the GitHub Pages deployment fails?
-   What if Qdrant service is unavailable during an index update?
-   How are hardware requirements for lab exercises managed if a student doesn't have them? (This will likely be outside the scope of the system itself, but needs consideration in documentation/support)
-   If a user asks a question that is outside the scope of the selected text or the book's content, the RAG chatbot MUST politely state that it can only answer questions related to the selected text/book content.


## Requirements *(mandatory)*

### Functional Requirements

-   **FR-001**: Book content MUST be written in Markdown/MDX.
-   **FR-002**: Book MUST be deployed using Docusaurus on GitHub Pages.
-   **FR-003**: Every chapter MUST strictly adhere to the 13-week curriculum outlined in the hackathon brief.
-   **FR-004**: An interactive RAG chatbot MUST be embedded within the book.
-   **FR-005**: The RAG chatbot MUST support selected-text queries.
-   **FR-006**: The RAG chatbot MUST be built with OpenAI Agents SDK or ChatKit + FastAPI + Neon Postgres + Qdrant Cloud Free Tier.
-   **FR-007**: The entire book MUST be 100% open-source with an MIT license.
-   **FR-008**: All code in the project MUST be generated by Claude.
-   **FR-009**: The RAG index MUST be automatically updated on every push via GitHub Actions and Qdrant.
-   **FR-010**: Explanations MUST allow for Roman Urdu + English mix to cater to the target audience in Pakistan.
-   **FR-011**: Every technical concept presentation MUST include: Theory → Code → Gazebo/Isaac Sim screenshot → Real robot mapping.
-   **FR-012**: Each chapter MUST conclude with a "Lab Exercise" section, including clear hardware requirements.

### Key Entities

-   **Book Content**: Chapters, modules, and lessons comprising the educational material.
-   **RAG Chatbot**: AI-powered conversational agent embedded in the book for interactive learning.
-   **RAG Index**: A vector database (Qdrant) storing embeddings of book content to power the chatbot.
-   **GitHub Repository**: Source code management for the book content and project infrastructure.
-   **GitHub Pages**: Web hosting platform for the live, publicly accessible book.
-   **GitHub Actions**: Automation platform for CI/CD, including RAG index updates.

## Success Criteria *(mandatory)*

### Measurable Outcomes

-   **SC-001**: The deployed book on GitHub Pages MUST be accessible 99.9% of the time, verified via uptime monitoring.
-   **SC-002**: The RAG chatbot MUST provide accurate and contextually relevant answers (derived solely from selected text) with a precision of at least 90%, measured by automated and manual evaluations.
-   **SC-003**: The automated RAG index update via GitHub Actions MUST complete successfully within 5 minutes of a push to the main branch 95% of the time, verifiable through GitHub Actions logs.
-   **SC-004**: All 13 weeks of the curriculum MUST be fully documented in Markdown/MDX format, with each chapter adhering to the specified structure and content guidelines, verified by content audit.
-   **SC-005**: All code examples in the book MUST be generated by Claude and pass linting, formatting, and basic functional tests (if applicable), verified through automated CI/CD checks and human review.
-   **SC-006**: The GitHub repository MUST maintain an MIT license file and be publicly accessible, verified by repository settings and license check tools.
-   **SC-007**: Every technical concept presentation MUST contain Theory, Code, Gazebo/Isaac Sim screenshot, and Real robot mapping, verified by a content review checklist.
-   **SC-008**: Each chapter MUST contain a "Lab Exercise" section with explicit hardware requirements, verified by a content review checklist.
-   **SC-009**: The RAG chatbot MUST respond to selected-text queries within 2 seconds for 95% of requests, verified by performance testing.

## Clarifications

### Session 2025-11-29

- Q: What is the target latency for the RAG chatbot to respond to a selected-text query? → A: < 2 seconds
- Q: What are the expected concurrent user loads for the book content and the RAG chatbot? → A: Not critical for V1
- Q: What level of data protection is required for the RAG index and user queries (e.g., encryption for data in transit and at rest)? → A: Basic Protection
- Q: What should the RAG chatbot do if a user asks a question that is outside the scope of the selected text or the book's content? → A: Politely decline
- Q: What level of permissions will the GitHub Actions workflow require to update the Qdrant index and deploy to GitHub Pages? → A: Minimal necessary
