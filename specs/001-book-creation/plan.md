# Implementation Plan: Physical AI & Humanoid Robotics Book Creation

**Branch**: `001-book-creation` | **Date**: 2025-11-29 | **Spec**: [specs/001-book-creation/spec.md](/specs/001-book-creation/spec.md)
**Input**: Feature specification from `/specs/001-book-creation/spec.md`

**Note**: This template is filled in by the `/sp.plan` command. See `.specify/templates/commands/plan.md` for the execution workflow.

## Research Findings

This section consolidates research on testing frameworks for the Docusaurus frontend and FastAPI backend, resolving the 'NEEDS CLARIFICATION' tag in the Technical Context. Detailed findings are in [`specs/001-book-creation/research.md`](/specs/001-book-creation/research.md).

**Decision**: Adopt Jest with React Testing Library for Docusaurus unit/integration, Cypress/Playwright for Docusaurus E2E. Adopt Pytest with FastAPI's TestClient for FastAPI unit/integration/API-E2E, and Testcontainers for FastAPI E2E with external services.
**Rationale**: These frameworks are industry standards for their respective ecosystems, offering robust features, active communities, and excellent integration capabilities. They align with best practices for maintainable and effective testing.
**Alternatives Considered**: Other frameworks were considered but these provide the best balance of features, community support, and ease of integration for the specified tech stack.



## Summary

This plan outlines the implementation for the "Physical AI & Humanoid Robotics Book Creation" feature. The primary goal is to create a comprehensive, open-source educational book deployed on GitHub Pages via Docusaurus, featuring an embedded RAG chatbot for interactive learning. The technical approach involves using Docusaurus for the frontend, a FastAPI backend for the RAG chatbot, Neon Postgres for data storage, and Qdrant for the RAG index, with automated deployments and index updates via GitHub Actions.

## Technical Context

**Language/Version**: Python 3.11+, JavaScript/TypeScript (for Docusaurus)
**Primary Dependencies**: Docusaurus, OpenAI Agents SDK / ChatKit, FastAPI, Neon Postgres, Qdrant Cloud Free Tier, GitHub Actions
**Storage**: Neon Postgres (for RAG chatbot data), Qdrant Cloud Free Tier (for RAG index)
**Testing**: Jest (Unit/Integration for Docusaurus), React Testing Library (Integration for Docusaurus), Cypress/Playwright (E2E for Docusaurus), Pytest (Unit/Integration for FastAPI), FastAPI TestClient (Integration/E2E for FastAPI), Testcontainers (E2E for FastAPI with external services)
**Target Platform**: GitHub Pages (book frontend), Linux server (FastAPI/RAG backend)
**Project Type**: Web (Docusaurus) + API (FastAPI)
**Performance Goals**: RAG chatbot response < 2 seconds for 95% of requests
**Constraints**: 100% open-source (MIT license), all code generated by Claude, automated RAG index updates on push, Roman Urdu + English language mix allowed, basic data protection for RAG index/queries, minimal necessary GitHub Actions permissions.
**Scale/Scope**: Not critical for V1

## Constitution Check

*GATE: Must pass before Phase 0 research. Re-check after Phase 1 design.*

- [x] **Comprehensive Book Content**: The plan ensures the book will be fully written in Markdown/MDX using Docusaurus, and deployed on GitHub Pages. It also confirms strict adherence to the 13-week curriculum. (Source: `constitution.md:20-21`)
- [x] **Interactive RAG Chatbot**: The plan incorporates a fully functional RAG chatbot, built with OpenAI Agents SDK or ChatKit + FastAPI + Neon Postgres + Qdrant Cloud Free Tier, supporting selected-text queries. (Source: `constitution.md:23-24`)
- [x] **Open Source and AI-Generated Code**: The plan confirms the entire book will be 100% open-source with an MIT license, deployed on GitHub Pages, and all code generated by Claude. (Source: `constitution.md:26-27`)
- [x] **Automated RAG Indexing**: The plan includes automated RAG index updates on every push via GitHub Actions and Qdrant. (Source: `constitution.md:29-30`)

## Project Structure

### Documentation (this feature)

```text
specs/[###-feature]/
├── plan.md              # This file (/sp.plan command output)
├── research.md          # Phase 0 output (/sp.plan command)
├── data-model.md        # Phase 1 output (/sp.plan command)
├── quickstart.md        # Phase 1 output (/sp.plan command)
├── contracts/           # Phase 1 output (/sp.plan command)
└── tasks.md             # Phase 2 output (/sp.tasks command - NOT created by /sp.plan)
```

### Source Code (repository root)
```text
backend/
├── src/
│   ├── api/             # FastAPI application, route handlers
│   ├── services/        # Business logic, RAG integration
│   └── data/            # Data access, Qdrant/Postgres interaction
└── tests/
    ├── unit/
    ├── integration/
    └── e2e/             # API-driven E2E tests

frontend/
├── src/
│   ├── components/      # React components for Docusaurus
│   ├── pages/           # Docusaurus content pages (MDX)
│   └── styles/          # Theming and CSS
└── tests/
    ├── unit/
    ├── integration/
    └── e2e/             # Cypress/Playwright tests

```

**Structure Decision**: The project will adopt a `backend/` and `frontend/` separation. The `backend/` will house the FastAPI application, RAG services, and data interaction layers. The `frontend/` will contain the Docusaurus site, React components, and static assets. This structure clearly delineates concerns and supports independent development and deployment of the web application and the API.

## Complexity Tracking

> **Fill ONLY if Constitution Check has violations that must be justified**

| Violation | Why Needed | Simpler Alternative Rejected Because |
|-----------|------------|-------------------------------------|
| [e.g., 4th project] | [current need] | [why 3 projects insufficient] |
| [e.g., Repository pattern] | [specific problem] | [why direct DB access insufficient] |
